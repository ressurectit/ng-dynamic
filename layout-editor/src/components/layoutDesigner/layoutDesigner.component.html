<div class="designer-overlay" 
     #layoutDesigner
     cdkDrag
     cdkDropList
     designerMinHeight
     connectDropLists
     [copyDesignerStyles]="renderedType"
     [cdkDragData]="{metadata: renderedType, parentId: _parent?.renderedType?.id}"
     [cdkDragDisabled]="!_parent || _metaInfo?.dragDisabled"
     [cdkDropListEnterPredicate]="canDrop"
     (mouseleave)="hideOverlay($event)"
     (mouseover)="showOverlay($event)"
     (cdkDropListDropped)="addDescendant($event)"
     (click)="selectComponent($event)">
    <div class="drag-placeholder mat-elevation-z6" *cdkDragPlaceholder></div>
    <div class="drag-preview mat-elevation-z8" *cdkDragPreview>{{renderedType?.name}}#{{renderedType?.id}}</div>
    <ng-template [layoutComponentRenderer]="renderedType" [layoutComponentRendererDisableTransformer]="true"></ng-template>

    <ng-container *ngIf="overlayVisible || selected">
        <div class="designer-overlay-border"></div>

        <div *ngIf="overlayVisible || selected"
             class="designer-overlay-title"
             [positionTo]="layoutDesigner"
             placement="TopStart">{{renderedType?.name}}#{{renderedType?.id}}</div>
    </ng-container>
</div>
