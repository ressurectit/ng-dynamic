<div class="designer-overlay" 
     #layoutDesigner
     cdkDrag
     [copyDesignerStyles]="_renderedType"
     [cdkDragData]="{metadata: _renderedType, parentId: parent?._renderedType?.id}"
     [cdkDragDisabled]="dragDisabled"
     (mouseleave)="hideOverlay($event)"
     (mouseover)="showOverlay($event)"
     (cdkDragStarted)="draggingSvc.setDragging(true)"
     (cdkDragEnded)="draggingSvc.setDragging(false)"
     (click)="selectComponent($event)"
     (dblclick)="unselectComponent($event)">
    <div class="designer-dropzone"
         cdkDropList
         connectDropLists
         designerMinWidth
         [isDropZone]="canDropValue"
         [id]="id"
         [cdkDropListEnterPredicate]="canDrop"
         [cdkDropListOrientation]="_orientation"
         (cdkDropListDropped)="addDescendant($event)">
        <layout-editor-drag-placeholder class="mat-elevation-z6" *cdkDragPlaceholder></layout-editor-drag-placeholder>
        <layout-editor-drag-preview class="mat-elevation-z4" *cdkDragPreview [editorMetadata]="editorMetadata" [layoutMetadata]="_renderedType"></layout-editor-drag-preview>
        <ng-template #renderer="layoutComponentRenderer" [layoutComponentRenderer]="_renderedType" [layoutComponentRendererDisableTransformer]="true"></ng-template>

        <ng-container *ngIf="highlighted || selected">
            <div class="designer-overlay-border"></div>
            <div class="designer-overlay-layout" [layoutDesignerOverlayFor]="renderer"></div>

            <div class="designer-overlay-title"
                 *bodyRender
                 [positionTo]="layoutDesigner"
                 placement="TopStart">{{editorMetadata?.metaInfo?.name ?? _renderedType?.name}}</div>

            <ng-container *ngIf="!!parent && parent.editorMetadata?.removeDescendant">
                <div *bodyRender
                     class="designer-overlay-remove"
                     [positionTo]="layoutDesigner"
                     placement="TopEnd"
                     (click)="remove()">
                    <span class="fas fa-times"></span>
                </div>
            </ng-container>
        </ng-container>
    </div>
</div>
